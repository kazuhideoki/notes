# 繰り返し予約のテストコードを追加

## Links

- [[2025-03-12]]
- [[2025-03-13]]

## Backlog Link

https://yourstand.backlog.com/view/PDM_S-1795

## メモ

- レビュー対象のPR: https://github.com/yourStand/yourstand-console/pull/2662
- 相談したいこと
  - Daily, Weekly をdescribe で分けたい
  - ケースが多いのでメンテが大変そう。意義の重複があれば減らせないか？
	  - Daily でシンプルな1日ごと、2,3,7,30 がある。これは減らせないか？
	  - Weekly でも同様のケースはないか？
	  - 日を跨ぐ場合の本質的な違いは？

- 不具合発見のキッカケ -> `繰り返しあり（2週間ごと_全曜日）`

## レビュー

- [x] Daily の仕組み理解と妥当性
- [ ] Weeklyの仕組み理解と妥当性
- [ ] エラーケースの必要性
- [ ] 他抜けもれ

### コメント

```
テスト追加ありがとうございます。
基本的によく整理されいるし意図が明確だと感じました。なのでテストケース自体は減らさなくて良さそう（Daily以外は）とおもいました。
ちょっとだけ共通化や整理をしておくと良いかと思った次第です

概要
- Daily: コメントの通り、もう少し少なくていい気がした。
- Weekly: ビジネスロジックの複雑さに対してそれぞれのテストの意義がありそうで妥当そう。個人的にも Weekly 運用は多そうだと思っている

余談

ちなみに予約作成数に関する境界値テストはないですかね？
つまり、startAt に対して endAt がある値未満なら予約数は何個、ある値以上であれば、予約作成数何個みたいな。追加するほどでもないですが、テスト作成のアプローチが気になったくらいです。（坪井さんから以前境界値テストを重要視しているとの話があったので）
```
