# 東大との実証実験メモ

## 検証方法準備

### 環境設定

- House環境でローカル起動可能か確認
  - サービスアカウントでRedis、Bigtableを`house-dev`につなぐ

### 充電器

- 変調電流設定
  - `RemoteStartTx`において、5以上の周期が設定可能かを検証
    - _5以上の周期をサポートする可能性があるが、未検証_
- 電流値取得（重要）
  - リアルタイムで取得可能か確認
  - CSVフォーマット（`condition`, `timestamp`, `value`, `targetValue`）に合わせる

### Tesla車両

- プラグイン確認（Teslaアプリ経由）
- 電流流入確認（Teslaアプリ経由）
- 電流値取得（重要）

---

## 実施スケジュールと内容

### 12/3

- カメラ撮影実施
- 11/28結果共有
  - コサイン類似度
  - Teslaは整数値で取得可能（小数値でさらに精度向上が期待）
- 次回準備
  - 充電器CSVフォーマット整備（ラベル不要、列のみ）
  - 条件（condition）一覧を別途用意
  - Teslaアプリ操作画面のスクリーンショットを指示・取得

### 12/4

- Tesla APIの準備
  - ドキュメント確認（外部3rdパーティ）
  - Houseでサーバー設定・ポート開放
  - Token発行・リクエストテスト（invalid tokenエラーが発生中）
- House-dev環境セットアップ
  - 環境設定後、稼働確認
- 実験記録項目
  - 指令（発出）のタイミング・内容
- ファイルフォーマット
  - 品川：`Day2_CHG1001_00X-YY.csv`
  - 駒場：`Day2_CHG2002_00X-YY.csv`
  - MMC：`Day2_EV10002_00X-YY.csv`
  - TESLA：`Day2_EV20010_00X-YY.csv`

### 12/12（知財関連）

- 課題確認
  - タウ、レングスの調整
- 新規性検討
  - 車種別のバリエーション可能性あり

### 1/20（4者実験結果確認）

- マッチング方法
  - 前処理方法の決定
    - 電流値0.2以上で1レングス目開始
    - 1レングス中の1～5を使用（6つ目は使用せず）
    - 前後差最小なデータのうち最後のデータを採用（ロジック単純化検討）
- 判定における課題
  - コサイン類似度（特に005-04ケースでの精度問題）
    - 平均値比較で改善可能か検討
  - データ不足時の誤差、欠損対応
- 東大特許検討
  - バックキャスト方式（最後のレングスを起点に計算することで、初期データ不足を軽減）
- プレスリリース日程：論文発表は3/1予定
- 4者実験の紹介ビデオ内容を協議
- 今後の進め方
  - 実在ユースケースを基に次の段階へ
  - ビジネスモデル検討
  - 変調パターン改善、配布案検討（初期2パターンで事業者決定、3パターン目以降は事業者自由選択）

### 2/13（Teslaミーティング）

- 変調電流認証およびTeslaのミーティング
- 小規模コミュニティ向け前提
- 変調で使用するTesla API（Vehicle Endpointsのvehicle_dataを利用）
  - [Vehicle Data Endpoint詳細](https://developer.tesla.com/docs/fleet-api/endpoints/vehicle-endpoints#vehicle-data)
